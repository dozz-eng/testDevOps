# testDevOps
Евгений Овсянкин 

Тестовое задание для DevOps-инженера;

1. Общие концепции DevOps:

Направление DevOps родилось, как методология разработки ПО для улучшения взаимодействия разных групп разработчиков. Впоследствии оно вылилось в название специальности: DevOps-инженер.
DevOps-инженер в общих чертах служит связующим звеном между командами, отвечающими за разные компоненты приложения. В случаях когда непонятно откуда приходит баг помогает разобраться куда смотреть, кого привлечь к работе и т.д.

DevOps-инженер в команде решает следующие задачи:
- подготовка инфраструктуры для проекта(сервера, виртуальные машины, сетевые устройства) их настройка
- настройка процесса CI/CD от пуша в репозиторий изменений кода до сборки проекта, тестирования, выкладки готового проекта на хостинг. 
- производит настройку системы мониторинга и логгирования работы проекта на всех стадиях
- участвует в разборе нештатных ситуаций работы приложения на основе данных логирования и мониторинга. Чем оптимальнее настроены данные компоненты, тем меньше времени уходит на разбор.
- настраивает работу оркестраторов (Ansible, Kubernetes) для обеспечения бесперебойной работы приложения. При возрастаниях нагрузки на приложение система должна автоматически масштабироваться (увеличивается количество контейнеров и т.д.)

2. CI/CD (Continuous Integration and Continuous Deployment):

- CI/CD или непрерывная интеграция и непрерывная доставка приложения - это "конвейер", обеспечивающий немедленную пересборку, тестирование и доставку обновленного приложения на хостинг без ручного вмешательства в процесс. В идеале он должен запускаться после пуша изменений в репозиторий, произвести все настроенные действия по сборке, выкладке приложения на тестовый стенд и тестированию. Если все тесты прошли без ошибок, возможно нужно подтверждение инженера перед деплоем приложения в prod. 

- В CI/CD можно выделить 3 основных этапа:
    - Сборка
    - Тестирование
    - Деплой

В более сложных системах есть этапы настройки инфраструктуры для теста, развертывание компонентов приложения, выполнение дополнительных действий (перезапуск сервисов, вызов дополнительных сервисов), Логирование и оптравка оповещений о состоянии поставки и т.д.

3. Мониторинг и логирование:
    
Мониторинг является одной из самых важных работ в сопровождении приложения. До того, как приложение "упадет", могут быть различные к этому предпослки (мало еста на жестком диске, например). Система может дать оповещение обслуживающему персоналу, чтобы тот мог предпринять необходимые меры. 
Инструментами для мониторинга являются Zabbix или Prometeus. Они могут присылать различные оповещения: Email, SMS, Telegram - все зависит от предпочтений инженера, настраивающего данный сервис.
Для удобного просмотра метрик приложения можно настроить дашборды, встроенные в данные системы, или подключить инструменты для отображения, такие, как Grafana.

Отличия мониторинга и логгирования: 

- Мониторинг производится в реальном времени, и оповещения присылаьтся сразу по наступлении важного события. 

- Логгирование представляет из себя сбор сообщений о действиях, происходящих в системе, и их может быть очень много. Логи также могут отсылаться со всех машин на центральный syslog-сервер. Логи в основном используют для расследования инцидентов, чтобы понять что привело к ошибке. Просмотр логов в текстовом виде является крайне непродуктивным занятием, поэтому придумано довольно много систем для удобного парсинга, фильтрации и сохранения их. Отличным примером такого решеия является сервер ELK (связка Elacticsearch, Logstash и Kibana)
Логи могут использоваться и в реальном времени, например, система может отслеживать логи, связанные со входом пользователя в систему и информировать администратора о попытках несанкционированного проникновения.

4. Контейнеризация и Docker:

Виртуальные машины запускаются посредством гипервизора, который является прослойкой между физическим сервером и виртуальными машинами. Гипервизор - это программа, запускаемая на хостовой системе, предоставляющая виртуальное железо гостевым системам. Виртуальные машины представляют собой полновесные операционные системы, содержащие ядро, пространство пользователя, приложения и т.д.

Докер представляет собой "аналог" виртуальной машины, но в составе образа докера отсутствует ядро системы. Запускается докер посредством программы Docker Engine, которая предоставляет ресурсы хостовой системы запущенным контейнерам. Из собственных компонентов контейнер имеет только систему файлов и приложения, запущенные внутри докера. Этим объясняется малый "вес" докер-образа. 
Ввиду отсутствия собственного ядра системы и гипервизора ресурсы хостовой машины используются более рационально, увеличивая быстродействие системы в общем. 

Основные команды в docker:
    docker pull <image_name> - скачивание образа с сайта dockerhub
    docker run|stop <image_name> - запуск|останов образа
    docker ps - вывод списка запущенных контейнеров
    docker images - вывод списка докер-образов в системе
    docker rm <image_name> - удаление выбранного образа 

    docker build . - сборка образа из Dockerfile

5. **Сетевые основы:**
    - Объясните, что такое NAT и как оно работает.